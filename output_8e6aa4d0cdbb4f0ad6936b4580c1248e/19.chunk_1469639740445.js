webpackJsonp([19],{16:function(e,n,i){var t;t=function(){function e(){var e=null,n=null;return{then:function(i){e=i,n&&e.apply(null,n)},resolve:function(){n=arguments,e&&e.apply(null,n)}}}function n(){var e=new a.Deferred,n=Array.prototype.slice.call(arguments,0),i=[],t=0;return n.length>0&&n.forEach(function(o,a){o.then(function(o){t++,i[a]=o,t==n.length&&e.resolve.apply(null,i)})}),e}var t,o=i(10),a={_uid:0,getAjaxData:function(e,n,i,t){a.ajax.get(e,n,i,t)},postAjaxData:function(e,n,i,t,o){a.ajax.post(e,n,i,t,o)},jsonp:function(e,n,i,t){var o=document.getElementsByTagName("head")[0],r=document.createElement("script"),d="func_"+a.md5(),c=a.param(n);e+=1!=e.indexOf("?")?"&"+c+"&callback="+d:"?"+c+"&callback="+d,window[d]=function(e){i&&i(e)},r.src=e,r.onerror=function(){t&&t()},o.appendChild(r)},md5:function(e){for(var n=e||3,i=0,t="";i<n;i++)t+=Math.floor(65535*Math.random()).toString(32)+this.uuid();return t},uuid:function(){return++this._uid},ajax:function(){function e(e,n,i,t,o,r,d){var c=null;if(window.XMLHttpRequest?c=new XMLHttpRequest:window.ActiveXObject&&(c=new ActiveXObject("Microsoft.XMLHTTP")),null!=c){var l=e,p=a.param(i);p&&(l=e+"?"+p),c.timeout=1e4,c.open(n,l,!0),c.onreadystatechange=function(){if(4==c.readyState)if(200==c.status){var e=c.responseText;"json"==d?o&&o(JSON.parse(e)):o&&o(e)}else{var e=c.responseText;r&&r(e)}},c.onprogress=function(){},c.ontimeout=function(e){r&&r("请求超时")}}var s;if(t){var u=[];for(var w in t)u.push(w+"="+encodeURIComponent(t[w]));s=u.join("&"),s.length&&c.setRequestHeader("Content-type","application/x-www-form-urlencoded")}c.send(s)}return{get:function(n,i,t,o){if(a.isOffline()){var r={};n.indexOf("?")!=-1?Object.keys(i).length?r.url="http://waimai.baidu.com"+n+"&"+ +a.param(i):r.url="http://waimai.baidu.com"+n:r.url="http://waimai.baidu.com"+n+"?"+a.param(i),WMApp.network.getRequest(r,function(e){e.status&&e.result&&"200"==e.result.statusCode?t(JSON.parse(e.result.responseBody)):o(JSON.parse(e.result))})}else e(n,"GET",i,null,t,o,"json")},post:function(n,i,t,o,r){if(a.isOffline()){var d={};n.indexOf("?")!=-1?Object.keys(i).length?d.url="http://waimai.baidu.com"+n+"&"+ +a.param(i):d.url="http://waimai.baidu.com"+n:d.url="http://waimai.baidu.com"+n+"?"+a.param(i),d.data=t,window.WMApp.network.postRequest(d,function(e){e.status&&e.result&&"200"==e.result.statusCode?o(JSON.parse(e.result.responseBody)):r(e.result)})}else e(n,"POST",i,t,o,r,"json")}}}(),param:function(e){var n=[];for(var i in e)n.push(i+"="+encodeURIComponent(e[i]));return n.join("&")},isWeixin:function(){return navigator.userAgent.indexOf("MicroMessenger")>-1},isOffline:function(){return location.href.indexOf("file:///")!=-1},isIOS:function(){var e=navigator.userAgent.toLowerCase();return e.indexOf("iphone")!=-1||e.indexOf("ipad")!=-1||e.indexOf("ipod")!=-1},open:function(e){var n=location.href.replace(location.hash),i=n+e;try{if(window.WMApp){var t={pageName:"webview",pageParams:{url:encodeURIComponent(i),header:1}};window.WMApp.page.changePage(t)}else location.href=i}catch(o){location.href=i}},showLoading:function(e){document.getElementById("loading-mask").style.display=document.getElementById("loading").style.display=e?"block":"none"},getParams:function(e){var n,i,t,o={};if(e=e||window.location.href,e.indexOf("?")==-1)return o;for(i=e.slice(e.indexOf("?")+1).split("&"),t=0;t<i.length;t++)i[t]&&i[t].indexOf("=")!=-1&&(n=i[t].split("="),n[1]&&(o[n[0]]=n[1].indexOf("#")!=-1?n[1].slice(0,n[1].indexOf("#")):n[1]));return o},translateCityCode:function(e,n){var i="/mobile/waimai?qt=convertcitycode&source=BNCode&display=json&sourceCode="+e;a.ajax.get(i,{},function(e){0==e.error_no&&n&&n(e.result)},function(){n&&n({cityCode:131})})},na:function(){return{setTitleBar:function(e,n,i){window.WMApp?(window.WMApp.page.setTitleBar({titleText:e,titleClickAble:0,actionText:n||"",actionClickAble:1}),i&&window.WMApp.entry.setPageAction("onActionClick",i)):window.BNJS&&window.BNJS.ui.title.setTitle(e)},checkVersion:function(e,n){function i(e){var n=e.split("."),i=n.length,t=0;return n.forEach(function(e,n){t+=e*Math.pow(10,2*(i-n))}),t}if(window.WMApp){var t=window.WMApp.device.getAppVersion();t&&(i(t)<i(e)?n&&n(!0):n&&n(!1))}else n&&n(!1)},selectAddress:function(e,n,i,t,o){var a=location.origin+"/mobile/waimai?qt=addresslist&id="+n+"&address_id="+n+"&shop_id="+e+"&urlfrom=orderconfirm&pinzhiPayV2=1&lat="+i+"&lng="+t;window.WMApp||(a+="&fromWeixin=1"),window.WMApp&&window.WMApp.address?location.href="bdwm://zaocan?url="+encodeURIComponent(a):location.href=a},addAddress:function(e,n,i,t){var o=location.origin+"/mobile/waimai?qt=addressadd&shop_id="+e+"&urlfrom=orderconfirm&pagelets[]=pager&pinzhiPayV2=1";window.WMApp||(o+="&fromWeixin=1"),window.WMApp&&window.WMApp.address?location.href="bdwm://zaocan?url="+encodeURIComponent(o):location.href=o},selectCoupon:function(e,n,i,t){if(window.WMApp&&window.WMApp.coupon){var o={shopId:e,totalOrderPrice:n+"",payPlat:i};WMApp.coupon.selectCoupon(o,function(e){e.status&&t&&t(e.result.couponId)})}else{var a=location.origin+"/mobile/waimai?qt=getvalidcoupon&shop_id="+this.props.params.shopId+"&order_price="+cartData.totalPrice+"&pay_plat="+i+"&pinzhiPayV2=1&t="+(new Date).getTime();location.href=a}},pay:function(e,n,i,t,o){if(window.WMApp&&window.WMApp.pay.doPay){var a={payType:n,payParams:i};window.WMApp.pay.doPay(a,function(e){e.status?t&&t():o&&o()})}else window.BNJS?(i=JSON.parse(i),i.onSuccess=function(){t&&t()},i.onCancel=function(){o&&o()},window.BNJS.page.startPay(i)):location.href=e},getLngLat:function(){return window.WMApp?{lng:window.WMApp.location.getLocLng(),lat:window.WMApp.location.getLocLat()}:window.BNJS?(window.BNJS.location.getLocation(),{lng:window.BNJS.location.longitude,lat:window.BNJS.location.latitude}):void 0},getLngLatAsync:function(e){if(window.WMApp){var n=function(n){i||(i=!0,e&&e(n))},i=!1;window.WMApp.location.getAsyncLocation(n),setTimeout(n,2e3)}else if(window.BNJS){var t=function(n){i||(i=!0,n&&0==n.errno?e&&e({lng:n.data.longitude,lat:n.data.latitude,cityId:o.getData("pinzhicurcityid"),address:n.data.address}):e&&e({lat:"",lng:"",cityId:131,address:""}))},i=!1;window.BNJS.location.requestRealTimeLocation(t),setTimeout(t,2e3)}else e&&e({lat:"",lng:"",cityId:131,address:""})},getAntiCheating:function(e){if(window.WMApp){var n=function(n){i||(i=!0,e&&e(n))},i=!1;window.WMApp.device.getAntiCheating(n),setTimeout(n,2e3)}else if(window.BNJS){var t=function(n){i||(i=!0,0==n.errno?"ios"==window.BNJS.device.platform?e&&e({result:{cheatInfo:""}}):e&&e({result:{cheatInfo:n.data.accode}}):e&&e({result:{cheatInfo:""}}))},i=!1;window.BNJS.env.acCode("waimai",t)}else e&&e({result:{cheatInfo:""}})},getFrom:function(e){return window.WMApp?window.WMApp.device.getFrom():window.BNJS?"ios"==window.BNJS.device.platform?"bn-ios":"bn-android":"webapp"},getClient:function(e){if(!window.BNJS)return"";var n="-android";switch("ios"==window.BNJS.device.platform&&(n="-iphone"),BNJS.env.packageName){case"com.renren-inc.nuomi":return"nuomi"+n;case"com.baidu.wallet":return"qianbao"+n;case"com.baidu.map":return"map"+n;case"com.baidu.secretary":return"dumi"+n;case"com.baidu":return"kuang"+n;default:return"nuomi"+n}},changePage:function(e,n){if(window.WMApp)if(a.isOffline()){var i=e.split("#");a.na.gotoOfflinePage("index",n||"质享生活",{router:i[1]})}else{var t={pageName:"webview",pageParams:{url:encodeURIComponent(e),header:1}};window.WMApp.page.changePage(t)}else if(window.BNJS){var o="bainuo://component?url="+encodeURIComponent(e);window.BNJS.page.start(o,{},0,"rtl")}else location.href=e},gotoOfflinePage:function(e,n,i){var t={pluginId:"bdwm.plugin.pinzhi",page:e,title:encodeURIComponent(n),pageData:encodeURIComponent(JSON.stringify(i))},o="bdwm://plugin?pluginId={pluginId}&pageName={page}&title={title}&pageData={pageData}&scrollViewBounces=0";o=o.replace(/\{(.*?)\}/g,function(e,n){return t[n]}),location.href=o},gotoOfflinePageForResult:function(e,n,i,t){var o={pluginId:"bdwm.plugin.pinzhi",page:e,title:encodeURIComponent(n),pageData:encodeURIComponent(JSON.stringify(i))},a="bdwm://plugin?pluginId={pluginId}&pageName={page}&title={title}&pageData={pageData}&scrollViewBounces=0";a=a.replace(/\{(.*?)\}/g,function(e,n){return o[n]});var r={openUrl:a};window.WMApp&&window.WMApp.page.changePageForResult(r,function(e){t&&t(e)})},getVersion:function(e){return window.WMApp?window.WMApp.device.getAppVersion():"3.7.1"},getDeviceInfo:function(){return window.WMApp?window.WMApp.device.getDevice():window.BNJS?{from:"webapp",cuid:window.BNJS.env.cuid,os:window.BNJS.device.os,sv:"3.7.1",model:window.BNJS.device.name,screen:window.BNJS.device.screenWidth+"*"+window.BNJS.device.screenHeight,channel:window.BNJS.env.appChannel,loc_lat:window.BNJS.location.latitude,loc_lng:window.BNJS.location.longitude,city_id:window.BNJS.location.cityCode,address:window.BNJS.location.address}:{from:"webapp",cuid:"",os:"",sv:"",model:"",screen:"",channel:"",loc_lat:"",loc_lng:"",city_id:"",address:""}},ready:function(e,n){var i=!1;window.WMApp?(i=!0,e&&e(t)):window.BNJS&&window.BNJS._isAllReady?(i=!0,e&&e()):(document.addEventListener("WMAppReady",function(n){i||(i=!0,t=n.pageData,e&&e(t))}),document.addEventListener("BNJSReady",function(){i||(i=!0,e&&e())}),setTimeout(function(){i||window.BNJS||(i=!0,e&&e())},1500))},login:function(e,n){if(window.WMApp)window.WMApp.account.login(function(n){n.status&&e&&e()});else if(window.BNJS)window.BNJS.account.login({onSuccess:function(){e&&e()},onFail:function(e){alert("登陆失败！")}});else{var i=n||location.href;location.href="http://wappass.baidu.com/passport/?authsite=1&sms=1&u="+encodeURIComponent(i)}},bindPhone:function(){location.href="http://wappass.baidu.com/wp/bindwidget-bindmobile?bindToSmsLogin=1&u="+encodeURIComponent(location.href)},close:function(){window.WMApp?window.WMApp.page.closePage():window.BNJS?window.BNJS.page.back():history.back()}}}(),sak:function(e,n){var i=new Image,t=!0,r={resid:31,func:"place",da_ver:"2.1.0",da_trd:"xinpin_pinzhi",page:e.page||"PinZhiCollect",da_src:e.da_src||"PinZhiCollectPg",da_act:e.da_act||"collect",from:"webapp",xid1:a.filterFrom(e.xid1)||"",xid2:e.xid2||"",xid3:e.xid3||"",xid4:e.xid4||"",xid5:e.xid5||"",city_id:o.getData("pinzhicurcityid"),t:Date.now()},d="http://log.waimai.baidu.com/static/transparent.gif?"+a.param(r);i.onload=function(){i=null,t&&n&&(t=!1,n())},n&&setTimeout(function(){t&&(t=!1,n())},300),i.src=d},sakCartId:function(e,n,i,t,o){function r(){d.resolve(!0)}var d=new a.Deferred;return a.sak({xid1:a.filterFrom(e),xid2:n,xid3:t,xid4:i,xid5:o},r),d},filterFrom:function(e){var n=["bdjg","nabanner","weixin","nuomi","nmbanner","ditu","shoubai","qianbao","sms","smzdm","wuliao","startScreen","toutiao","hongbao","apppush","dtentry","other"],i=n.indexOf(e);return i==-1&&(i=n.length-1),n[i]},sakOrderId:function(e,n,i,t,o,r){a.sak({xid1:a.filterFrom(e),xid2:n,xid3:t,xid4:i,xid5:o},r)}};return a.Deferred=e,a.when=n,a}.call(n,i,n,e),!(void 0!==t&&(e.exports=t))},331:function(e,n,i){var t,o=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(n,i,t,o){var a=n&&n.defaultProps,r=arguments.length-3;if(i||0===r||(i={}),i&&a)for(var d in a)void 0===i[d]&&(i[d]=a[d]);else i||(i=a||{});if(1===r)i.children=o;else if(r>1){for(var c=Array(r),l=0;l<r;l++)c[l]=arguments[l+3];i.children=c}return{$$typeof:e,type:n,key:void 0===t?null:""+t,ref:null,props:i,_owner:null}}}();i(443);var a=o("i",{}),r=o("div",{className:"title"},void 0,"提交订单"),d=o("div",{className:"tool"}),c=o("p",{className:"title"},void 0,"请在微信中完成支付");t=function(){var e=i(1),n=i(10),t=i(16);return e.createClass({getInitialState:function(){var e=n.getData("COM_weixinParms"),i=JSON.parse(e);return this.doPay(i),{}},componentDidMount:function(){t.na.setTitleBar("提交订单")},doPay:function(e){function n(){WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:e.appId,timeStamp:""+e.timeStamp,nonceStr:e.nonceStr,"package":e["package"],signType:e.signType,paySign:e.paySign},function(e){"get_brand_wcpay_request:ok"==e.err_msg?(i.clearPageLocalData(),location.href=location.href.replace(location.hash,"")+"#/orderSuccess"):"get_brand_wcpay_request:cancel"==e.err_msg||"get_brand_wcpay_request:fail"==e.err_msg})}var i=this;"undefined"==typeof WeixinJSBridge?document.addEventListener&&document.addEventListener("WeixinJSBridgeReady",n,!1):n()},render:function(){return o("div",{id:"order-weixin-page"},void 0,o("div",{className:"title-bar"},void 0,o("div",{className:"back",onTouchStart:this.back},void 0,a),r,d),o("div",{className:"content-box"},void 0,c,o("p",{className:"question"},void 0,"支付遇到问题？",o("span",{onTouchStart:this.back,className:"backBtn"},void 0,"返回"))))},clearPageLocalData:function(){n.deleteData(this.props.params.shopId),n.deleteData("COM_couponId"),n.deleteData("COM_weixinParms")},back:function(){window.WMApp?window.WMApp.page.closePage():history.back()}})}.call(n,i,n,e),!(void 0!==t&&(e.exports=t))},386:function(e,n,i){n=e.exports=i(2)(),n.push([e.id,"#order-weixin-page{width:100%;height:100%;position:relative}#order-weixin-page .content-box{position:absolute;left:0;top:50%;height:8rem;width:100%;text-align:center;margin-top:-4rem}#order-weixin-page .content-box .title{font-size:2.2rem;margin-bottom:2rem;color:#999}#order-weixin-page .content-box .question{text-align:center}#order-weixin-page .content-box .question span{font-size:1.2rem;color:#999}#order-weixin-page .content-box .question .backBtn{border:1px solid #ff9300;color:#ff9300;padding:.3rem 1rem;border-radius:4px}#order-weixin-page .title-bar{background-color:#ff2d4b;height:4rem;line-height:4rem;display:box;display:-webkit-box;font-size:1.8rem;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;flex-start:left;position:absolute;left:0;top:0;width:100%;display:none}#order-weixin-page .title-bar .back{width:4rem;vertical-align:middle;text-align:center}#order-weixin-page .title-bar .back i{display:inline-block;background:url("+i(479)+") no-repeat;background-size:100%;width:.9rem;height:1.8rem;vertical-align:middle}#order-weixin-page .title-bar .title{box-flex:1;-webkit-box-flex:1;text-align:center;color:#fff;vertical-align:middle}#order-weixin-page .title-bar .tool{width:4rem;vertical-align:middle;text-align:center;color:#fff;font-size:1.5rem}",""])},443:function(e,n,i){var t=i(386);"string"==typeof t&&(t=[[e.id,t,""]]);i(3)(t,{});t.locals&&(e.exports=t.locals)},479:function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAjCAMAAACuNqptAAAAgVBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////9d3yJTAAAAKnRSTlMA+vYKBvHo49zJrB4PA8zDwJhAOS4o7Lq1pJGMg350VlJLRjMkGRPNnp3/L8kQAAAAkUlEQVQoz2XSWRaCMBBEUQIyqgFEFOd5qv0v0O/Xnc97cpJKpROz3nVnZBEVjdSqXpCsVTWndCops63KJ2VSMVIaFWvIstHGyE75g4F+ygdKr3RF2Ts5KNwpR4Ub5aRwpZwVLpQkVU/gLn+Wv5G5UuRCer5xsPZFE+zLt+q6H61N3jL+I3/bz4SfHGsfRT+F7R/Bcgz9xnMvJgAAAABJRU5ErkJggg=="}});