webpackJsonp([7],{26:function(e,t,o){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,o,i,r){var n=t&&t.defaultProps,a=arguments.length-3;if(o||0===a||(o={}),o&&n)for(var c in n)void 0===o[c]&&(o[c]=n[c]);else o||(o=n||{});if(1===a)o.children=r;else if(a>1){for(var l=Array(a),s=0;s<a;s++)l[s]=arguments[s+3];o.children=l}return{$$typeof:e,type:t,key:void 0===i?null:""+i,ref:null,props:o,_owner:null}}}();o(36);var n=o(3),a=i(n),c=o(8),l=o(7),s=i(l),u=o(4),d=o(5),f=o(11),m=o(6),_=i(m),p=a.default.createClass({displayName:"ColumnCard",mixins:[_.default],getInitialState:function(){var e=this.props.attention,t=void 0===e?1:e;return{hasFocused:1==t,page:(0,u._getStaticPageInfo)()}},componentDidMount:function(){},collectP:Promise.resolve(),preFocus:function(){this.props.theme_id;this.state.hasFocused?this.preDialog():this.doFocus()},preDialog:function(){var e=this,t=function(){e.doFocus()},o={content:"确认要取消关注吗？",cancelBtnText:"取消",confirmBtnText:"确认"};s.default.dialog(o,t)},doFocus:function(){var e=this,t=this.props.dispatch,o=this;s.default.login().then(function(i){o.collectP.then(function(){var i={text:"关注成功！",duration:"short"},r=!o.state.hasFocused;o.setState({hasFocused:r}),r&&s.default.toast(i),(0,u._sak)({page:e.state.page,da_src:e.state.page+".pagePv.Focus",da_act:"click"}),(0,u._sak)({page:e.state.page,da_src:e.state.page+".pagePv.Focus."+o.props.theme_id,da_act:"click"}),o.collectP=t((0,f.focusCol)({theme_ids:o.props.theme_id,status:r?1:0})).then(function(e){s.default.notifyObserver("chisha-focus-column",{})},function(e){o.collectP=Promise.resolve()})})},function(e){})},getFocus:function(){var e=this;return this.state.hasFocused?r("div",{className:"has_focus",onClick:(0,d.wrapperClick)(e.preFocus)},void 0,"已关注"):r("div",{className:"pre_focus",onClick:(0,d.wrapperClick)(e.preFocus)},void 0,"关注")},toColumnHome:function(){var e=this.props.theme_id,t=location.href.replace(location.hash,"")+"#/columnHome/"+e;s.default.changePage({offline:!0,url:t}),(0,u._sak)({page:this.state.page,da_src:this.state.page+".pagePv.toCol."+e,da_act:"click"})},render:function(){var e=this.props,t=e.name,o=(e.focus,e.intro),i=e.logo,n=this;return r("div",{className:"row_focus_column"},void 0,r("div",{className:"column_item"},void 0,r("div",{className:"left",onClick:(0,d.wrapperClick)(n.toColumnHome)},void 0,r("img",{src:(0,u._wrapperImage)(i,{w:300})})),r("div",{className:"center"},void 0,r("div",{className:"right_text",onClick:(0,d.wrapperClick)(n.toColumnHome)},void 0,r("div",{className:"title"},void 0,t),r("div",{className:"intro"},void 0,o),r("div",{className:"number"},void 0,this.props.attention_num," 人关注"))),r("div",{className:"right"},void 0,this.getFocus())))}}),h=(0,c.connect)()(p);t.default=h;(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(p,"ColumnCard","/Users/wangcai/Work/waimai_4-0-1097-32_BRANCH/src/components/common/ColumnCard/rowColumnCard.js"),__REACT_HOT_LOADER__.register(h,"default","/Users/wangcai/Work/waimai_4-0-1097-32_BRANCH/src/components/common/ColumnCard/rowColumnCard.js"))})();e.exports=t.default},33:function(e,t,o){t=e.exports=o(1)(),t.push([e.id,".row_focus_column{width:100%;max-width:100%;overflow-x:hidden}.row_focus_column .check_all_col{color:grey;line-height:3.4rem;text-align:center;border-radius:5px;font-size:1.5rem;border:1px solid #e1e1e1;margin-top:1rem}.row_focus_column .column_item{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;padding:2rem 1rem;-webkit-box-pack:justify;justify-content:space-between;position:relative}.row_focus_column .column_item:after{position:absolute;left:7.5rem;right:0;content:'';display:block;height:1px;bottom:0;background-color:#f5f5f5}.row_focus_column .column_item .left{margin-right:1rem;flex-shrink:0}.row_focus_column .column_item .left img{width:5.5rem;height:5.5rem;border-radius:100%}.row_focus_column .column_item .center{width:55%;-webkit-box-flex:1;-webkit-flex-grow:1;flex-grow:1}.row_focus_column .column_item .center .right_text .title{line-height:1;font-size:1.6rem;color:#1a1a1a;font-weight:700;padding-bottom:.75rem}.row_focus_column .column_item .center .right_text .intro{text-overflow:ellipsis;color:#1a1a1a;font-size:1.2rem;width:95%;overflow:hidden;white-space:nowrap;line-height:1;padding-bottom:.75rem}.row_focus_column .column_item .center .right_text .number{color:#999;font-size:1.2rem;line-height:1}.row_focus_column .column_item .right{flex-shrink:0}.row_focus_column .column_item .right .has_focus{color:#fff;width:5.5rem;height:2rem;text-align:center;padding:.35rem 0;font-size:1.2rem;background:red;border-radius:2px;line-height:1}.row_focus_column .column_item .right .pre_focus{color:red;width:5.5rem;height:2rem;padding:.35rem 0;text-align:center;font-size:1.2rem;border:1px solid red;border-radius:2px;line-height:1}",""])},36:function(e,t,o){var i=o(33);"string"==typeof i&&(i=[[e.id,i,""]]);o(2)(i,{});i.locals&&(e.exports=i.locals)},68:function(e,t,o){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,o,i,r){var n=t&&t.defaultProps,a=arguments.length-3;if(o||0===a||(o={}),o&&n)for(var c in n)void 0===o[c]&&(o[c]=n[c]);else o||(o=n||{});if(1===a)o.children=r;else if(a>1){for(var l=Array(a),s=0;s<a;s++)l[s]=arguments[s+3];o.children=l}return{$$typeof:e,type:t,key:void 0===i?null:""+i,ref:null,props:o,_owner:null}}}(),n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e};o(138);var a=o(3),c=i(a),l=o(7),s=i(l),u=o(5),d=o(4),f=o(26),m=i(f),_=o(6),p=i(_),h=c.default.createClass({displayName:"MyFocusCol",mixins:[p.default],getInitialState:function(){return{theme_list:this.props.data.theme_list,page:(0,d._getStaticPageInfo)()}},componentDidMount:function(){s.default.setTitle("我关注的栏目"),s.default.setTitleBar({title:"我关注的栏目"}),(0,d._sak)({page:"ChiShaFocusColPg",da_src:"ChiShaFocusColPg.pagePv",da_act:"show"})},getMyFocus:function(){return this.state.theme_list.map(function(e){return c.default.createElement(m.default,n({},e,{key:e.theme_id}))})},checkAllCol:function(){var e=location.href.replace(location.hash,"")+"#/allColumn";s.default.changePage({offline:!0,url:e}),(0,d._sak)({page:this.state.page,da_src:this.state.page+".pagePv.toAllCol",da_act:"click"})},render:function(){var e=this;return r("div",{className:"my_focus_column"},void 0,r("div",{className:"check_all_col",onClick:(0,u.wrapperClick)(e.checkAllCol)},void 0,"查看全部栏目"),this.getMyFocus())}}),g=h;t.default=g;(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(h,"MyFocusCol","/Users/wangcai/Work/waimai_4-0-1097-32_BRANCH/src/pages/MyFocusCol/index.js"),__REACT_HOT_LOADER__.register(g,"default","/Users/wangcai/Work/waimai_4-0-1097-32_BRANCH/src/pages/MyFocusCol/index.js"))})();e.exports=t.default},103:function(e,t,o){t=e.exports=o(1)(),t.push([e.id,".my_focus_column{padding:1rem 0}.my_focus_column .check_all_col{color:grey;height:4rem;padding:1.25rem 0;text-align:center;border-radius:2px;font-size:1.5rem;border:1px solid #e1e1e1;margin:0 1rem;line-height:1}",""])},138:function(e,t,o){var i=o(103);"string"==typeof i&&(i=[[e.id,i,""]]);o(2)(i,{});i.locals&&(e.exports=i.locals)}});